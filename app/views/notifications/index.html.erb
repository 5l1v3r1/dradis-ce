<% content_for :title, 'Notifications for this Project' %>

<div class="content-container pb-2">
  <div class="d-flex justify-content-between">
    <h4>Notifications for this Project</h4>
    <% if @notifications.any? %>
      <b><%= link_to 'Mark all as read', project_notification_path(current_project, id: 'all'), class: 'pull-right', method: :put, remote: true %></b>
    <% end %>
  </div>
  <% cache [current_user, @notifications] do %>
    <% if @notifications.any? %>
      <div class="notifications-index mt-4">
        <ul class="p-0 m-0">
          <% @notifications.each do |notification| %>
            <%= render notification %>
          <% end %>
        </ul>
      </div>
      <%= paginate @notifications %>
    <% else %>
      <p class="mb-3 text-center">You don't have any notifications yet.</p>
    <% end %>
  <% end %>
</div>
