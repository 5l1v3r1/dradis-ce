<h1>Notifications for this Project</h1>

<div class="notifications-index">
  <%# TODO s/@project/current_project once project-id-scopes is merged %>
  <% if @notifications.any? %>
    <b><%= link_to 'Mark all as read', project_notification_path(@project, id: 'all'), class: 'pull-right', method: :put, remote: true %></b>
  <% end %>
  <div class="clearfix"></div><br>

  <% cache [current_user, @notifications] do %>
    <% if @notifications.any? %>
      <ul>
        <% @notifications.each do |notification| %>
          <%= render notification %>
          <div class="clearfix"></div>
          <hr>
        <% end %>
      </ul>

      <%= paginate @notifications %>
    <% else %>
      <div class="no-content text-center">You have no notifications yet.</div>
    <% end %>
  <% end %>
</div>
